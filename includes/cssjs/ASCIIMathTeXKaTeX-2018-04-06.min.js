/*
ASCIIMathTeXKaTeX.js modified by M. Bourne

Based on: ASCIIMathTeXImg.js
Based on ASCIIMathML, Version 1.4.7 Aug 30, 2005, (c) Peter Jipsen http://www.chapman.edu/~jipsen
Modified with TeX conversion for IMG rendering Sept 6, 2006 (c) David Lippman http://www.pierce.ctc.edu/dlippman
  Updated to match ver 2.2 Mar 3, 2014
  Latest at https://github.com/mathjax/asciimathml

This program is free software; you can redistribute it and/or modify
it under the terms of the GNU Lesser General Public License (LGPL) as 
published by the Free Software Foundation; either version 2.1 of the 
License, or (at your option) any later version.

This program is distributed in the hope that it will be useful, but WITHOUT 
ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS 
FOR A PARTICULAR PURPOSE. See the GNU Lesser General Public License 
(at http://www.gnu.org/licences/lgpl.html) for more details.
*/

var texstring,noMathRender=!1;(AMfunc=function(t){var e="",u=!0,p=".",n="`",a="\\\\`",o=!0,l="qq",i="\\\\\\qq",r="\\qq",g="wikitext",m=!1,c=0,x=1,y=2,s=3,h=4,f=5,d=6,b=7,v=8,A=9,w=10,N={input:'"',tag:"mtext",output:"mbox",tex:null,ttype:w},q=[{input:"alpha",tag:"mi",output:"α",tex:null,ttype:c},{input:"beta",tag:"mi",output:"β",tex:null,ttype:c},{input:"chi",tag:"mi",output:"χ",tex:null,ttype:c},{input:"delta",tag:"mi",output:"δ",tex:null,ttype:c},{input:"Delta",tag:"mo",output:"Δ",tex:null,ttype:c},{input:"epsi",tag:"mi",output:"ε",tex:"epsilon",ttype:c},{input:"varepsilon",tag:"mi",output:"ɛ",tex:null,ttype:c},{input:"eta",tag:"mi",output:"η",tex:null,ttype:c},{input:"gamma",tag:"mi",output:"γ",tex:null,ttype:c},{input:"Gamma",tag:"mo",output:"Γ",tex:null,ttype:c},{input:"iota",tag:"mi",output:"ι",tex:null,ttype:c},{input:"kappa",tag:"mi",output:"κ",tex:null,ttype:c},{input:"lambda",tag:"mi",output:"λ",tex:null,ttype:c},{input:"Lambda",tag:"mo",output:"Λ",tex:null,ttype:c},{input:"lamda",tag:"mi",output:"lambda",tex:null,ttype:v},{input:"Lamda",tag:"mi",output:"Lambda",tex:null,ttype:v},{input:"mu",tag:"mi",output:"μ",tex:null,ttype:c},{input:"nu",tag:"mi",output:"ν",tex:null,ttype:c},{input:"omega",tag:"mi",output:"ω",tex:null,ttype:c},{input:"Omega",tag:"mo",output:"Ω",tex:null,ttype:c},{input:"phi",tag:"mi",output:"φ",tex:null,ttype:c},{input:"varphi",tag:"mi",output:"ϕ",tex:null,ttype:c},{input:"Phi",tag:"mo",output:"Φ",tex:null,ttype:c},{input:"pi",tag:"mi",output:"π",tex:null,ttype:c},{input:"Pi",tag:"mo",output:"Π",tex:null,ttype:c},{input:"psi",tag:"mi",output:"ψ",tex:null,ttype:c},{input:"Psi",tag:"mi",output:"Ψ",tex:null,ttype:c},{input:"rho",tag:"mi",output:"ρ",tex:null,ttype:c},{input:"sigma",tag:"mi",output:"σ",tex:null,ttype:c},{input:"Sigma",tag:"mo",output:"Σ",tex:null,ttype:c},{input:"tau",tag:"mi",output:"τ",tex:null,ttype:c},{input:"theta",tag:"mi",output:"θ",tex:null,ttype:c},{input:"vartheta",tag:"mi",output:"ϑ",tex:null,ttype:c},{input:"Theta",tag:"mo",output:"Θ",tex:null,ttype:c},{input:"upsilon",tag:"mi",output:"υ",tex:null,ttype:c},{input:"xi",tag:"mi",output:"ξ",tex:null,ttype:c},{input:"Xi",tag:"mo",output:"Ξ",tex:null,ttype:c},{input:"zeta",tag:"mi",output:"ζ",tex:null,ttype:c},{input:"*",tag:"mo",output:"⋅",tex:"cdot",ttype:c},{input:"**",tag:"mo",output:"∗",tex:"ast",ttype:c},{input:"***",tag:"mo",output:"⋆",tex:"star",ttype:c},{input:"//",tag:"mo",output:"/",tex:null,ttype:c},{input:"\\\\",tag:"mo",output:"\\",tex:"backslash",ttype:c},{input:"setminus",tag:"mo",output:"\\",tex:null,ttype:c},{input:"xx",tag:"mo",output:"×",tex:"times",ttype:c},{input:"-:",tag:"mo",output:"÷",tex:"div",ttype:c},{input:"divide",tag:"mo",output:"-:",tex:null,ttype:v},{input:"@",tag:"mo",output:"∘",tex:"circ",ttype:c},{input:"o+",tag:"mo",output:"⊕",tex:"oplus",ttype:c},{input:"ox",tag:"mo",output:"⊗",tex:"otimes",ttype:c},{input:"o.",tag:"mo",output:"⊙",tex:"odot",ttype:c},{input:"sum",tag:"mo",output:"∑",tex:null,ttype:b},{input:"prod",tag:"mo",output:"∏",tex:null,ttype:b},{input:"^^",tag:"mo",output:"∧",tex:"wedge",ttype:c},{input:"^^^",tag:"mo",output:"⋀",tex:"bigwedge",ttype:b},{input:"vv",tag:"mo",output:"∨",tex:"vee",ttype:c},{input:"vvv",tag:"mo",output:"⋁",tex:"bigvee",ttype:b},{input:"nn",tag:"mo",output:"∩",tex:"cap",ttype:c},{input:"nnn",tag:"mo",output:"⋂",tex:"bigcap",ttype:b},{input:"uu",tag:"mo",output:"∪",tex:"cup",ttype:c},{input:"uuu",tag:"mo",output:"⋃",tex:"bigcup",ttype:b},{input:"!=",tag:"mo",output:"≠",tex:"ne",ttype:c},{input:":=",tag:"mo",output:":=",tex:null,ttype:c},{input:"lt",tag:"mo",output:"<",tex:null,ttype:c},{input:"gt",tag:"mo",output:">",tex:null,ttype:c},{input:"<=",tag:"mo",output:"≤",tex:"le",ttype:c},{input:"lt=",tag:"mo",output:"≤",tex:"leq",ttype:c},{input:"gt=",tag:"mo",output:"≥",tex:"geq",ttype:c},{input:">=",tag:"mo",output:"≥",tex:"ge",ttype:c},{input:"-<",tag:"mo",output:"≺",tex:"prec",ttype:c},{input:"-lt",tag:"mo",output:"≺",tex:null,ttype:c},{input:">-",tag:"mo",output:"≻",tex:"succ",ttype:c},{input:"-<=",tag:"mo",output:"⪯",tex:"preceq",ttype:c},{input:">-=",tag:"mo",output:"⪰",tex:"succeq",ttype:c},{input:"in",tag:"mo",output:"∈",tex:null,ttype:c},{input:"!in",tag:"mo",output:"∉",tex:"notin",ttype:c},{input:"sub",tag:"mo",output:"⊂",tex:"subset",ttype:c},{input:"sup",tag:"mo",output:"⊃",tex:"supset",ttype:c},{input:"sube",tag:"mo",output:"⊆",tex:"subseteq",ttype:c},{input:"supe",tag:"mo",output:"⊇",tex:"supseteq",ttype:c},{input:"-=",tag:"mo",output:"≡",tex:"equiv",ttype:c},{input:"~=",tag:"mo",output:"≅",tex:"stackrel{\\sim}{=}",ttype:c},{input:"cong",tag:"mo",output:"~=",tex:null,ttype:v},{input:"~~",tag:"mo",output:"≈",tex:"approx",ttype:c},{input:"prop",tag:"mo",output:"∝",tex:"propto",ttype:c},{input:"and",tag:"mtext",output:"and",tex:null,ttype:d},{input:"or",tag:"mtext",output:"or",tex:null,ttype:d},{input:"not",tag:"mo",output:"¬",tex:"neg",ttype:c},{input:"=>",tag:"mo",output:"⇒",tex:"Rightarrow",ttype:c},{input:"implies",tag:"mo",output:"=>",tex:null,ttype:v},{input:"if",tag:"mo",output:"if",tex:null,ttype:d},{input:"<=>",tag:"mo",output:"⇔",tex:"Leftrightarrow",ttype:c},{input:"iff",tag:"mo",output:"<=>",tex:null,ttype:v},{input:"AA",tag:"mo",output:"∀",tex:"forall",ttype:c},{input:"EE",tag:"mo",output:"∃",tex:"exists",ttype:c},{input:"_|_",tag:"mo",output:"⊥",tex:"bot",ttype:c},{input:"TT",tag:"mo",output:"⊤",tex:"top",ttype:c},{input:"|--",tag:"mo",output:"⊢",tex:"vdash",ttype:c},{input:"|==",tag:"mo",output:"⊨",tex:"models",ttype:c},{input:"(",tag:"mo",output:"(",tex:null,ttype:h},{input:")",tag:"mo",output:")",tex:null,ttype:f},{input:"[",tag:"mo",output:"[",tex:null,ttype:h},{input:"]",tag:"mo",output:"]",tex:null,ttype:f},{input:"{",tag:"mo",output:"{",tex:"lbrace",ttype:h},{input:"}",tag:"mo",output:"}",tex:"rbrace",ttype:f},{input:"|",tag:"mo",output:"|",tex:null,ttype:A},{input:"(:",tag:"mo",output:"〈",tex:"langle",ttype:h},{input:":)",tag:"mo",output:"〉",tex:"rangle",ttype:f},{input:"<<",tag:"mo",output:"〈",tex:"langle",ttype:h},{input:">>",tag:"mo",output:"〉",tex:"rangle",ttype:f},{input:"{:",tag:"mo",output:"{:",tex:null,ttype:h,invisible:!0},{input:":}",tag:"mo",output:":}",tex:null,ttype:f,invisible:!0},{input:"int",tag:"mo",output:"∫",tex:null,ttype:c},{input:"dx",tag:"mi",output:"{:d x:}",tex:null,ttype:v},{input:"dy",tag:"mi",output:"{:d y:}",tex:null,ttype:v},{input:"dz",tag:"mi",output:"{:d z:}",tex:null,ttype:v},{input:"dt",tag:"mi",output:"{:d t:}",tex:null,ttype:v},{input:"oint",tag:"mo",output:"∮",tex:null,ttype:c},{input:"del",tag:"mo",output:"∂",tex:"partial",ttype:c},{input:"grad",tag:"mo",output:"∇",tex:"nabla",ttype:c},{input:"+-",tag:"mo",output:"±",tex:"pm",ttype:c},{input:"O/",tag:"mo",output:"∅",tex:"emptyset",ttype:c},{input:"oo",tag:"mo",output:"∞",tex:"infty",ttype:c},{input:"aleph",tag:"mo",output:"ℵ",tex:null,ttype:c},{input:"...",tag:"mo",output:"...",tex:"ldots",ttype:c},{input:":.",tag:"mo",output:"∴",tex:"therefore",ttype:c},{input:"/_",tag:"mo",output:"∠",tex:"angle",ttype:c},{input:"/_\\",tag:"mo",output:"△",tex:"triangle",ttype:c},{input:"\\ ",tag:"mo",output:" ",tex:null,ttype:c,val:!0},{input:"quad",tag:"mo",output:"  ",tex:null,ttype:c},{input:"qquad",tag:"mo",output:"    ",tex:null,ttype:c},{input:"cdots",tag:"mo",output:"⋯",tex:null,ttype:c},{input:"vdots",tag:"mo",output:"⋮",tex:null,ttype:c},{input:"ddots",tag:"mo",output:"⋱",tex:null,ttype:c},{input:"diamond",tag:"mo",output:"⋄",tex:null,ttype:c},{input:"Lap",tag:"mo",output:"ℒ",tex:"mathscr{L}",ttype:c},{input:"square",tag:"mo",output:"⋄",tex:"boxempty",ttype:c},{input:"|__",tag:"mo",output:"⌊",tex:"lfloor",ttype:c},{input:"__|",tag:"mo",output:"⌋",tex:"rfloor",ttype:c},{input:"|~",tag:"mo",output:"⌈",tex:"lceil",ttype:c},{input:"lceiling",tag:"mo",output:"|~",tex:null,ttype:v},{input:"~|",tag:"mo",output:"⌉",tex:"rceil",ttype:c},{input:"rceiling",tag:"mo",output:"~|",tex:null,ttype:v},{input:"CC",tag:"mo",output:"ℂ",tex:"mathbb{C}",ttype:c,notexcopy:!0},{input:"NN",tag:"mo",output:"ℕ",tex:"mathbb{N}",ttype:c,notexcopy:!0},{input:"QQ",tag:"mo",output:"ℚ",tex:"mathbb{Q}",ttype:c,notexcopy:!0},{input:"RR",tag:"mo",output:"ℝ",tex:"mathbb{R}",ttype:c,notexcopy:!0},{input:"ZZ",tag:"mo",output:"ℤ",tex:"mathbb{Z}",ttype:c,notexcopy:!0},{input:"f",tag:"mi",output:"f",tex:null,ttype:x,func:!0,val:!0},{input:"g",tag:"mi",output:"g",tex:null,ttype:x,func:!0,val:!0},{input:"''",tag:"mo",output:"''",tex:null,val:!0},{input:"'''",tag:"mo",output:"'''",tex:null,val:!0},{input:"''''",tag:"mo",output:"''''",tex:null,val:!0},{input:"lim",tag:"mo",output:"lim",tex:null,ttype:b},{input:"Lim",tag:"mo",output:"Lim",tex:null,ttype:b},{input:"sin",tag:"mo",output:"sin",tex:null,ttype:x,func:!0},{input:"cos",tag:"mo",output:"cos",tex:null,ttype:x,func:!0},{input:"tan",tag:"mo",output:"tan",tex:null,ttype:x,func:!0},{input:"arcsin",tag:"mo",output:"arcsin",tex:null,ttype:x,func:!0},{input:"arccos",tag:"mo",output:"arccos",tex:null,ttype:x,func:!0},{input:"arctan",tag:"mo",output:"arctan",tex:null,ttype:x,func:!0},{input:"sinh",tag:"mo",output:"sinh",tex:null,ttype:x,func:!0},{input:"cosh",tag:"mo",output:"cosh",tex:null,ttype:x,func:!0},{input:"tanh",tag:"mo",output:"tanh",tex:null,ttype:x,func:!0},{input:"cot",tag:"mo",output:"cot",tex:null,ttype:x,func:!0},{input:"coth",tag:"mo",output:"coth",tex:null,ttype:x,func:!0},{input:"sech",tag:"mo",output:"sech",tex:null,ttype:x,func:!0},{input:"csch",tag:"mo",output:"csch",tex:null,ttype:x,func:!0},{input:"sec",tag:"mo",output:"sec",tex:null,ttype:x,func:!0},{input:"csc",tag:"mo",output:"csc",tex:null,ttype:x,func:!0},{input:"log",tag:"mo",output:"log",tex:null,ttype:x,func:!0},{input:"ln",tag:"mo",output:"ln",tex:null,ttype:x,func:!0},{input:"abs",tag:"mo",output:"abs",tex:null,ttype:x,notexcopy:!0,rewriteleftright:["|","|"]},{input:"norm",tag:"mo",output:"norm",tex:null,ttype:x,notexcopy:!0,rewriteleftright:["\\|","\\|"]},{input:"floor",tag:"mo",output:"floor",tex:null,ttype:x,notexcopy:!0,rewriteleftright:["\\lfloor","\\rfloor"]},{input:"ceil",tag:"mo",output:"ceil",tex:null,ttype:x,notexcopy:!0,rewriteleftright:["\\lceil","\\rceil"]},{input:"Sin",tag:"mo",output:"sin",tex:null,ttype:x,func:!0},{input:"Cos",tag:"mo",output:"cos",tex:null,ttype:x,func:!0},{input:"Tan",tag:"mo",output:"tan",tex:null,ttype:x,func:!0},{input:"Arcsin",tag:"mo",output:"arcsin",tex:null,ttype:x,func:!0},{input:"Arccos",tag:"mo",output:"arccos",tex:null,ttype:x,func:!0},{input:"Arctan",tag:"mo",output:"arctan",tex:null,ttype:x,func:!0},{input:"Sinh",tag:"mo",output:"sinh",tex:null,ttype:x,func:!0},{input:"Sosh",tag:"mo",output:"cosh",tex:null,ttype:x,func:!0},{input:"Tanh",tag:"mo",output:"tanh",tex:null,ttype:x,func:!0},{input:"Cot",tag:"mo",output:"cot",tex:null,ttype:x,func:!0},{input:"Sec",tag:"mo",output:"sec",tex:null,ttype:x,func:!0},{input:"Csc",tag:"mo",output:"csc",tex:null,ttype:x,func:!0},{input:"Log",tag:"mo",output:"log",tex:null,ttype:x,func:!0},{input:"Ln",tag:"mo",output:"ln",tex:null,ttype:x,func:!0},{input:"Abs",tag:"mo",output:"abs",tex:null,ttype:x,notexcopy:!0,rewriteleftright:["|","|"]},{input:"det",tag:"mo",output:"det",tex:null,ttype:x,func:!0},{input:"exp",tag:"mo",output:"exp",tex:null,ttype:x,func:!0},{input:"dim",tag:"mo",output:"dim",tex:null,ttype:c},{input:"mod",tag:"mo",output:"mod",tex:"text{mod}",ttype:c,notexcopy:!0},{input:"gcd",tag:"mo",output:"gcd",tex:null,ttype:x,func:!0},{input:"lcm",tag:"mo",output:"lcm",tex:"text{lcm}",ttype:x,func:!0,notexcopy:!0},{input:"lub",tag:"mo",output:"lub",tex:null,ttype:c},{input:"glb",tag:"mo",output:"glb",tex:null,ttype:c},{input:"min",tag:"mo",output:"min",tex:null,ttype:b},{input:"max",tag:"mo",output:"max",tex:null,ttype:b},{input:"uarr",tag:"mo",output:"↑",tex:"uparrow",ttype:c},{input:"darr",tag:"mo",output:"↓",tex:"downarrow",ttype:c},{input:"rarr",tag:"mo",output:"→",tex:"rightarrow",ttype:c},{input:"->",tag:"mo",output:"→",tex:"to",ttype:c},{input:">->",tag:"mo",output:"↣",tex:"rightarrowtail",ttype:c},{input:"->>",tag:"mo",output:"↠",tex:"twoheadrightarrow",ttype:c},{input:">->>",tag:"mo",output:"⤖",tex:"twoheadrightarrowtail",ttype:c},{input:"|->",tag:"mo",output:"↦",tex:"mapsto",ttype:c},{input:"larr",tag:"mo",output:"←",tex:"leftarrow",ttype:c},{input:"harr",tag:"mo",output:"↔",tex:"leftrightarrow",ttype:c},{input:"rArr",tag:"mo",output:"⇒",tex:"Rightarrow",ttype:c},{input:"lArr",tag:"mo",output:"⇐",tex:"Leftarrow",ttype:c},{input:"hArr",tag:"mo",output:"⇔",tex:"Leftrightarrow",ttype:c},{input:"curvArrLt",tag:"mo",output:"↶",tex:"curvearrowleft",ttype:c},{input:"curvArrRt",tag:"mo",output:"↷",tex:"curvearrowright",ttype:c},{input:"circArrLt",tag:"mo",output:"↺",tex:"circlearrowleft",ttype:c},{input:"circArrRt",tag:"mo",output:"↻",tex:"circlearrowright",ttype:c},{input:"sqrt",tag:"msqrt",output:"sqrt",tex:null,ttype:x},{input:"root",tag:"mroot",output:"root",tex:null,ttype:y},{input:"frac",tag:"mfrac",output:"/",tex:null,ttype:y},{input:"/",tag:"mfrac",output:"/",tex:null,ttype:s},{input:"stackrel",tag:"mover",output:"stackrel",tex:null,ttype:y},{input:"_",tag:"msub",output:"_",tex:null,ttype:s},{input:"^",tag:"msup",output:"^",tex:null,ttype:s},{input:"cancel",tag:"menclose",output:"cancel",tex:null,ttype:x},{input:"Sqrt",tag:"msqrt",output:"sqrt",tex:null,ttype:x},{input:"hat",tag:"mover",output:"^",tex:null,ttype:x,acc:!0},{input:"bar",tag:"mover",output:"¯",tex:"overline",ttype:x,acc:!0},{input:"vec",tag:"mover",output:"→",tex:null,ttype:x,acc:!0},{input:"tilde",tag:"mover",output:"~",tex:null,ttype:x,acc:!0},{input:"dot",tag:"mover",output:".",tex:null,ttype:x,acc:!0},{input:"ddot",tag:"mover",output:"..",tex:null,ttype:x,acc:!0},{input:"ul",tag:"munder",output:"̲",tex:"underline",ttype:x,acc:!0},{input:"ubrace",tag:"munder",output:"⏟",tex:"underbrace",ttype:x,acc:!0},{input:"obrace",tag:"mover",output:"⏞",tex:"overbrace",ttype:x,acc:!0},{input:"text",tag:"mtext",output:"text",tex:null,ttype:w},{input:"mbox",tag:"mtext",output:"mbox",tex:null,ttype:w},N,{input:"color",tag:"mstyle",ttype:y},{input:"bb",tag:"mstyle",atname:"mathvariant",atval:"bold",output:"bb",tex:"mathbf",ttype:x,notexcopy:!0},{input:"mathbf",tag:"mstyle",atname:"mathvariant",atval:"bold",output:"mathbf",tex:null,ttype:x},{input:"sf",tag:"mstyle",atname:"mathvariant",atval:"sans-serif",output:"sf",tex:"mathsf",ttype:x,notexcopy:!0},{input:"mathsf",tag:"mstyle",atname:"mathvariant",atval:"sans-serif",output:"mathsf",tex:null,ttype:x},{input:"bbb",tag:"mstyle",atname:"mathvariant",atval:"double-struck",output:"bbb",tex:"mathbb",ttype:x,notexcopy:!0},{input:"mathbb",tag:"mstyle",atname:"mathvariant",atval:"double-struck",output:"mathbb",tex:null,ttype:x},{input:"cc",tag:"mstyle",atname:"mathvariant",atval:"script",output:"cc",tex:"mathcal",ttype:x,notexcopy:!0},{input:"mathcal",tag:"mstyle",atname:"mathvariant",atval:"script",output:"mathcal",tex:null,ttype:x},{input:"tt",tag:"mstyle",atname:"mathvariant",atval:"monospace",output:"tt",tex:"mathtt",ttype:x,notexcopy:!0},{input:"mathtt",tag:"mstyle",atname:"mathvariant",atval:"monospace",output:"mathtt",tex:null,ttype:x},{input:"fr",tag:"mstyle",atname:"mathvariant",atval:"fraktur",output:"fr",tex:"mathfrak",ttype:x,notexcopy:!0},{input:"mathfrak",tag:"mstyle",atname:"mathvariant",atval:"fraktur",output:"mathfrak",tex:null,ttype:x}];function L(t,e){return t.input>e.input?1:-1}var M,T,R,k=[];function E(t,e){var u;u="\\"==t.charAt(e)&&"\\"!=t.charAt(e+1)&&" "!=t.charAt(e+1)?t.slice(e+1):t.slice(e);for(var p=0;p<u.length&&u.charCodeAt(p)<=32;p+=1);return u.slice(p)}function C(t,e,u){if(0==u){var p,n;for(u=-1,p=t.length;u+1<p;)t[n=u+p>>1]<e?u=n:p=n;return p}for(var a=u;a<t.length&&t[a]<e;a++);return a}function O(t){for(var e,u,n,a=0,o="",l=!0,i=1;i<=t.length&&l;i++)u=t.slice(0,i),(a=C(k,u,a))<k.length&&t.slice(0,k[a].length)==k[a]&&(e=a,i=(o=k[a]).length),l=a<k.length&&t.slice(0,k[a].length)>=k[a];if(T=R,""!=o)return R=q[e].ttype,q[e];R=c,a=1,u=t.slice(0,1);for(var r=!0;"0"<=u&&u<="9"&&a<=t.length;)u=t.slice(a,a+1),a++;if(u==p&&"0"<=(u=t.slice(a,a+1))&&u<="9")for(r=!1,a++;"0"<=u&&u<="9"&&a<=t.length;)u=t.slice(a,a+1),a++;return r&&a>1||a>2?(u=t.slice(0,a-1),n="mn"):(a=2,n=("A">(u=t.slice(0,1))||u>"Z")&&("a">u||u>"z")?"mo":"mi"),"-"==u&&T==s?(R=s,{input:u,tag:n,output:u,ttype:x,func:!0,val:!0}):{input:u,tag:n,output:u,ttype:c,val:!0}}function _(t){var e;if("{"==t.charAt(0)&&"}"==t.charAt(t.length-1)){var u=0;"\\left"==(e=t.substr(1,5))?"("==(e=t.charAt(6))||"["==e||"{"==e?u=7:"\\lbrace"==(e=t.substr(6,7))&&(u=13):"("!=(e=t.charAt(1))&&"["!=e||(u=2),u>0&&("\\right)}"==(e=t.substr(t.length-8))||"\\right]}"==e||"\\right.}"==e?t=(t="{"+t.substr(u)).substr(0,t.length-8)+"}":"\\rbrace}"==e&&(t=(t="{"+t.substr(u)).substr(0,t.length-14)+"}"))}return t}function B(t){return"boolean"==typeof t.val&&t.val?pre="":pre="\\",null==t.tex?pre+t.input:pre+t.tex}function S(t){return null==t.tex?t.input:"\\"+t.tex}function H(t){var e,u,p,n,a="";if(null==(e=O(t=E(t,0)))||e.ttype==f&&M>0)return[null,t];switch(e.ttype==v&&(e=O(t=e.output+E(t,e.input.length))),e.ttype){case b:case c:t=E(t,e.input.length);var o=B(e);return"\\"==o.charAt(0)||"mo"==e.tag?[o,t]:["{"+o+"}",t];case h:return M++,p=z(t=E(t,e.input.length),!0),M--,"\\right"==p[0].substr(0,6)?("\\right."==p[0].substr(0,7)?p[0]=p[0].substr(7):p[0]=p[0].substr(6),u="boolean"==typeof e.invisible&&e.invisible?"{"+p[0]+"}":"{"+S(e)+p[0]+"}"):u="boolean"==typeof e.invisible&&e.invisible?"{\\left."+p[0]+"}":"{\\left"+S(e)+p[0]+"}",[u,p[1]];case w:return e!=N&&(t=E(t,e.input.length)),-1==(n="{"==t.charAt(0)?t.indexOf("}"):"("==t.charAt(0)?t.indexOf(")"):"["==t.charAt(0)?t.indexOf("]"):e==N?t.slice(1).indexOf('"')+1:0)&&(n=t.length)," "==(i=t.slice(1,n)).charAt(0)&&(a="\\ "),a+="\\text{"+i+"}"," "==i.charAt(i.length-1)&&(a+="\\ "),[a,t=E(t,n+1)];case x:return null==(p=H(t=E(t,e.input.length)))[0]?["{"+B(e)+"}",t]:"boolean"==typeof e.func&&e.func?"^"==(i=t.charAt(0))||"_"==i||"/"==i||"|"==i||","==i||1==e.input.length&&e.input.match(/\w/)&&"("!=i?["{"+B(e)+"}",t]:[u=" "+B(e)+"{"+p[0]+"}",p[1]]:(p[0]=_(p[0]),"sqrt"==e.input?["\\sqrt{"+p[0]+"}",p[1]]:"cancel"==e.input?["\\cancel{"+p[0]+"}",p[1]]:void 0!==e.rewriteleftright?["{\\left"+e.rewriteleftright[0]+p[0]+"\\right"+e.rewriteleftright[1]+"}",p[1]]:"boolean"==typeof e.acc&&e.acc?[B(e)+"{"+p[0]+"}",p[1]]:["{"+B(e)+"{"+p[0]+"}}",p[1]]);case y:if(null==(p=H(t=E(t,e.input.length)))[0])return["{"+B(e)+"}",t];p[0]=_(p[0]);var l=H(p[1]);return null==l[0]?["{"+B(e)+"}",t]:(l[0]=_(l[0]),"color"==e.input&&(a="{\\color{"+p[0].replace(/[\{\}]/g,"")+"}"+l[0]+"}"),"root"!=e.input&&"stackrel"!=e.input||(a="root"==e.input?"{\\sqrt["+p[0]+"]{"+l[0]+"}}":"{"+B(e)+"{"+p[0]+"}{"+l[0]+"}}"),"frac"==e.input&&(a="{\\frac{"+p[0]+"}{"+l[0]+"}}"),[a,l[1]]);case s:return t=E(t,e.input.length),[e.output,t];case d:return t=E(t,e.input.length),["{\\quad\\text{"+e.input+"}\\quad}",t];case A:M++,p=z(t=E(t,e.input.length),!1),M--;var i="";return"|"==(i=p[0].charAt(p[0].length-1))?[u="{\\left|"+p[0]+"}",p[1]]:[u="{|}",t];default:return t=E(t,e.input.length),["{"+B(e)+"}",t]}}function P(t){var e,u,p,n,a;if(u=O(t=E(t,0)),n=(a=H(t))[0],(e=O(t=a[1])).ttype==s&&"/"!=e.input){if(null==(a=H(t=E(t,e.input.length)))[0]?a[0]="{}":a[0]=_(a[0]),t=a[1],"_"==e.input)if("^"==(p=O(t)).input){var o=H(t=E(t,p.input.length));o[0]=_(o[0]),t=o[1],n="{"+n,n+="_{"+a[0]+"}",n+="^{"+o[0]+"}",n+="}"}else n+="_{"+a[0]+"}";else numLBraces=a[0].split("{").length,numRBraces=a[0].split("}").length,n=2==numLBraces&&2==numRBraces?n+"^"+a[0]:n+"^{"+a[0]+"}";void 0!==u.func&&u.func&&(p=O(t)).ttype!=s&&p.ttype!=f&&(n="{"+n+(a=P(t))[0]+"}",t=a[1])}return[n,t]}function z(t,e){var u,p,n,a,o="",l=!1;do{p=(n=P(t=E(t,0)))[0],(u=O(t=n[1])).ttype==s&&"/"==u.input?(null==(n=P(t=E(t,u.input.length)))[0]?n[0]="{}":n[0]=_(n[0]),t=n[1],p=_(p),numLBraces=p.split("{").length-1,numRBraces=p.split("}").length-1,p=1==numLBraces&&1==numRBraces&&p.indexOf("\\text")<0?"\\frac"+p:"\\frac{"+p+"}",numLBraces=n[0].split("{").length-1,numRBraces=n[0].split("}").length-1,o+=p+="{"+n[0]+"}",u=O(t)):null!=p&&(o+=p)}while((u.ttype!=f&&(u.ttype!=A||e)||0==M)&&null!=u&&""!=u.output);if(u.ttype==f||u.ttype==A){var i=o.length;if(i>2&&"{"==o.charAt(0)&&o.indexOf(",")>0){var r=o.charAt(i-2);if(")"==r||"]"==r){var g=o.charAt(6);if("("==g&&")"==r&&"}"!=u.output||"["==g&&"]"==r){var m="\\begin{matrix}",c=new Array;c.push(0);var x=0,y=[];y[0]=[0];var h=0,d=0;for(a=1;a<i-1;a++)o.charAt(a)==g&&x++,o.charAt(a)==r&&0==--x&&","==o.charAt(a+2)&&"{"==o.charAt(a+3)&&(c.push(a+2),y[h=a+2]=[a+2]),"["!=o.charAt(a)&&"("!=o.charAt(a)&&"{"!=o.charAt(a)||d++,"]"!=o.charAt(a)&&")"!=o.charAt(a)&&"}"!=o.charAt(a)||d--,","==o.charAt(a)&&1==d&&y[h].push(a);c.push(i);var b=-1;if(0==x&&c.length>0)for(a=0;a<c.length-1;a++){if(a>0&&(m+="\\\\"),0==a)if(1==y[c[a]].length)var v=[o.substr(c[a]+7,c[a+1]-c[a]-15)];else{v=[o.substring(c[a]+7,y[c[a]][1])];for(var w=2;w<y[c[a]].length;w++)v.push(o.substring(y[c[a]][w-1]+1,y[c[a]][w]));v.push(o.substring(y[c[a]][y[c[a]].length-1]+1,c[a+1]-8))}else if(1==y[c[a]].length)v=[o.substr(c[a]+8,c[a+1]-c[a]-16)];else{for(v=[o.substring(c[a]+8,y[c[a]][1])],w=2;w<y[c[a]].length;w++)v.push(o.substring(y[c[a]][w-1]+1,y[c[a]][w]));v.push(o.substring(y[c[a]][y[c[a]].length-1]+1,c[a+1]-8))}b>0&&v.length!=b?!1:-1==b&&(b=v.length),m+=v.join("&")}o=m+="\\end{matrix}"}}}t=E(t,u.input.length),"boolean"==typeof u.invisible&&u.invisible?(o+="\\right.",l=!0):(o+=p="\\right"+S(u),l=!0)}return M>0&&!l&&(o+="\\right."),[o,t]}function D(t){return M=0,null==(t=(t=(t=t.replace(/(&nbsp;|\u00a0|&#160;)/g,"")).replace(/&gt;/g,">")).replace(/&lt;/g,"<")).match(/\S/)?"":z(t.replace(/^\s+/g,""),!1)[0]}var Q=0;function Z(t){if(null==(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=t.replace(/(&nbsp;|\u00a0|&#160;)/g,"")).replace(/&gt;/g,">")).replace(/&lt;/g,"<")).replace(/×/g,"\\times")).replace(/−/g,"-")).replace(/&Omega/g,"\\Omega")).replace(/\/\//g,"text(/)")).replace(/’/g,"text(')")).replace(/”/g,'text(")')).replace(/·/g,"\\cdot")).match(/\S/))return document.createTextNode(" ");texstring=D(t),"undefined"!=typeof mathbg&&"dark"==mathbg&&(texstring="\\reverse "+texstring),""!=e&&(texstring="\\"+e+texstring),texstring=(texstring=(texstring=(texstring=(texstring=(texstring=(texstring=(texstring=(texstring=(texstring=(texstring=(texstring=(texstring=(texstring=(texstring=(texstring=(texstring=(texstring=(texstring=(texstring=(texstring=(texstring=(texstring=(texstring=(texstring=(texstring=(texstring=(texstring=u?"\\displaystyle"+texstring:"\\textstyle"+texstring).replace("$","\\$")).replace(/%/g,"\\%")).replace(/∠/g,"\\angle")).replace(/Φ/g,"\\Phi")).replace(/θ/g,"\\theta")).replace(/Δ/g,"\\Delta")).replace(/α/g,"\\alpha")).replace(/β/g,"\\beta")).replace(/ω/g,"\\omega")).replace(/μ/g,"\\mu")).replace(/Ω/g,"\\Omega")).replace(/δ/g,"\\delta")).replace(/γ/g,"\\gamma")).replace(/σ/g,"\\sigma")).replace(/π/g,"\\pi")).replace(/≥/g,"\\ge")).replace(/≤/g,"\\le")).replace(/≠/g,"\\ne")).replace(/≡/g,"\\equiv")).replace(/≈/g,"\\approx")).replace(/→/g,"\\rightarrow")).replace(/÷/g,"\\div")).replace(/±/g,"\\pm")).replace(/°/g,"^{\\circ}")).replace(/∞/g,"\\infty")).replace(/ma\\genta/g,"magenta")).replace(/{f}{b}\\otimes/g,"\\fbox");var p=document.createElement("span");p.id="mathId"+Q,p.innerHTML=texstring;try{t.indexOf("\\begin{cases}")>-1?katex.render(t,p):katex.render(texstring,p)}catch(e){p.className="katexErr","undefined"!=typeof MathJax?(p.innerHTML="`"+t+"`",MathJax.Hub.Queue(["Typeset",MathJax.Hub,"mathId"+Q])):p.innerHTML=e}return Q++,p}function I(t,e){var u,p,g,c,x;if(0==t.childNodes.length){if(8==t.nodeType&&!e||"form"==t.parentNode.nodeName||"FORM"==t.parentNode.nodeName||"textarea"==t.parentNode.nodeName||"TEXTAREA"==t.parentNode.nodeName||"pre"==t.parentNode.nodeName||"PRE"==t.parentNode.nodeName||"code"==t.parentNode.nodeName||"CODE"==t.parentNode.nodeName)return 0;if(null!=(p=t.nodeValue)){for(p=p.replace(/\r\n\r\n/g,"\n\n"),m&&(p=(p=(p=p.replace(/\x20\x20\./g," "+n+".")).replace(/\x20\x20,/g," "+n+",")).replace(/\x20\x20/g," "+n+" ")),p=(p=p.replace(/\x20+/g," ")).replace(/\s*\r\n/g," "),u=!1,o&&(p=p.replace(new RegExp(i,"g"),function(t){return u=!0,"AMescape2"})),p=p.replace(new RegExp(a,"g"),function(t){return u=!0,"AMescape1"}),o&&(p=p.replace(new RegExp(r,"g"),n)),g=p.split(n),x=0;x<g.length;x++)g[x]=o?g[x].replace(/AMescape2/g,l).replace(/AMescape1/g,n):g[x].replace(/AMescape1/g,n);if(g.length>1||u){var y=(c=function(t,e){for(var u=document.createDocumentFragment(),p=!1,n=0;n<t.length;n++){if(p)u.appendChild(Z(t[n]));else{var a=e?t[n].split("\n\n"):[t[n]];u.appendChild(document.createElement("span").appendChild(document.createTextNode(a[0])));for(var o=1;o<a.length;o++)u.appendChild(document.createElement("p")),u.appendChild(document.createElement("span").appendChild(document.createTextNode(a[o])))}p=!p}return u}(g,8==t.nodeType)).childNodes.length;return t.parentNode.replaceChild(c,t),y-1}}}else if("math"!=t.nodeName)for(x=0;x<t.childNodes.length;x++)x+=I(t.childNodes[x],e);return 0}function J(t,e,u){var p,a;if(null!=u){p=document.getElementsByTagName("span");for(var o=0;o<p.length;o++)"AM"==p[o].className&&I(p[o],e)}else{try{a=t.innerHTML}catch(t){}null!=a&&-1==a.indexOf(n)||I(t,e)}}function X(t){if(!F){F=!0;var e=document.getElementsByTagName("body")[0],u=document.getElementById(g);J(null!=u?u:e,!1,t)}}var F=!1;!function(){var t,e=[];for(t=0;t<q.length;t++)!q[t].tex||"boolean"==typeof q[t].notexcopy&&q[t].notexcopy||(e[e.length]={input:q[t].tex,tag:q[t].tag,output:q[t].output,ttype:q[t].ttype,acc:q[t].acc||!1});for((q=q.concat(e)).sort(L),t=0;t<q.length;t++)k[t]=q[t].input}(),window.translate=X,window.AMprocessNode=J,window.AMparseMath=Z,window.AMTparseMath=Z,window.AMTparseAMtoTeX=D,void 0!==t&&X()})();